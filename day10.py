field =  '''.............#..#.#......##........#..#
            .#...##....#........##.#......#......#.
            ..#.#.#...#...#...##.#...#.............
            .....##.................#.....##..#.#.#
            ......##...#.##......#..#.......#......
            ......#.....#....#.#..#..##....#.......
            ...................##.#..#.....#.....#.
            #.....#.##.....#...##....#####....#.#..
            ..#.#..........#..##.......#.#...#....#
            ...#.#..#...#......#..........###.#....
            ##..##...#.#.......##....#.#..#...##...
            ..........#.#....#.#.#......#.....#....
            ....#.........#..#..##..#.##........#..
            ........#......###..............#.#....
            ...##.#...#.#.#......#........#........
            ......##.#.....#.#.....#..#.....#.#....
            ..#....#.###..#...##.#..##............#
            ...##..#...#.##.#.#....#.#.....#...#..#
            ......#............#.##..#..#....##....
            .#.#.......#..#...###...........#.#.##.
            ........##........#.#...#.#......##....
            .#.#........#......#..........#....#...
            ...............#...#........##..#.#....
            .#......#....#.......#..#......#.......
            .....#...#.#...#...#..###......#.##....
            .#...#..##................##.#.........
            ..###...#.......#.##.#....#....#....#.#
            ...#..#.......###.............##.#.....
            #..##....###.......##........#..#...#.#
            .#......#...#...#.##......#..#.........
            #...#.....#......#..##.............#...
            ...###.........###.###.#.....###.#.#...
            #......#......#.#..#....#..#.....##.#..
            .##....#.....#...#.##..#.#..##.......#.
            ..#........#.......##.##....#......#...
            ##............#....#.#.....#...........
            ........###.............##...#........#
            #.........#.....#..##.#.#.#..#....#....
            ..............##.#.#.#...........#.....'''.split()

import numpy as np
rows = len(field)
cols = len(field[0])
asteroids = [[i=='#' for i in row] for row in field]
X, Y = np.meshgrid(range(rows),range(cols))
A = np.array(asteroids)
addrs = np.array([(x,y) for x,y in zip(X[A],Y[A])])

numVis = []
for ast in addrs:
    numVis += [len(np.unique(np.arctan2( X[A]-ast[0], Y[A]-ast[1] )))]
print (max(numVis))

stnLoc = numVis.index(max(numVis))
stn = addrs[stnLoc]
dist = np.sqrt(np.sum((stn-addrs)**2,axis=1)) # pythagorean distance
dist[stnLoc] = 999
angles = np.arctan2((stn-addrs)[:,1],(stn-addrs)[:,0])
rotate = np.unique(angles).tolist()
start = rotate.index(np.pi/2)
rotate = rotate[start:] + rotate[:start]
oblitCt = 0
while True:
    for a in rotate:
        if min(dist[angles==a]) < 999:
            kill = addrs.tolist().index(
                  (addrs[angles==a][np.argmin(dist[angles==a])]).tolist())
            dist[kill] = 999
            oblitCt += 1
            if oblitCt == 200:
                break
    if oblitCt == 200:
        break
kill200 = addrs[kill]
print (kill200[0]*100+kill200[1])
